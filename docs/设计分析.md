# 番茄时钟设计分析文档

## 设计概述

这是一个基于 HTML + Tailwind CSS 的番茄时钟应用设计，包含了完整的 UI 界面和基础的交互功能。

## 核心功能模块分析

### 1. 主界面布局模块
**设计要素：**
- 顶部导航栏：包含菜单按钮、当前任务标题、功能导航图标
- 主体内容区域：计时器圆形界面、模式选择、统计数据、任务列表
- 响应式设计：最大宽度限制（max-w-md）、居中布局

**实现要点：**
- 使用 Flexbox 布局实现垂直排列
- 固定容器宽度确保移动端友好
- 渐变背景营造现代感

### 2. 计时器核心模块
**设计要素：**
- 圆形计时器：280px 直径，渐变背景，白色内圆
- 进度环：使用 conic-gradient 实现环形进度显示
- 时间显示：大字体（text-5xl）倒计时显示
- 控制按钮：开始/暂停/重置三个圆形按钮

**实现要点：**
- CSS mask 技术实现环形进度条
- 相对定位叠加进度环和时间显示
- 按钮悬停和点击动画效果

### 3. 模式选择模块
**设计要素：**
- 四个模式按钮：番茄时间（25min）、短休息（5min）、长休息（15min）、设置
- 活跃状态视觉反馈：渐变背景、白色文字
- 悬停效果：上移、阴影变化

**实现要点：**
- Grid 布局均匀分布按钮
- CSS 过渡动画
- 状态切换时的视觉反馈

### 4. 设置模块
**设计要素：**
- 下拉式设置面板
- 三个时间设置项：番茄时间、短休息时间、长休息时间
- 数字输入框：1-60 分钟范围限制
- 毛玻璃效果背景

**实现要点：**
- 显示/隐藏切换逻辑
- 表单验证和范围限制
- 焦点状态样式

### 5. 统计数据模块
**设计要素：**
- 三个统计卡片：今日番茄数、未完成任务、本周进度
- 点击筛选功能：按今日番茄、未完成任务筛选任务列表
- 悬停效果和选中状态

**实现要点：**
- 数据筛选逻辑
- 视觉状态管理
- 响应式交互

### 6. 任务管理模块
**设计要素：**
- 任务输入框：添加新任务
- 搜索功能按钮
- 任务列表：复选框、任务名称、番茄数量
- 任务状态：完成/未完成样式区分
- 任务选择：点击设置当前任务

**实现要点：**
- 任务数据结构管理
- 复选框状态同步
- 任务筛选和显示逻辑

## 技术栈分析

### 前端技术
- **CSS 框架**: Tailwind CSS
- **图标库**: Lucide Icons
- **字体**: Google Fonts (Inter)
- **布局**: Flexbox + Grid
- **动画**: CSS Transitions + Transforms

### 交互功能
- **计时器逻辑**: setInterval 实现倒计时
- **状态管理**: JavaScript 变量管理应用状态
- **事件处理**: DOM 事件监听器
- **数据持久化**: 未实现（需要添加）

## Vue 3 实现计划

### 组件结构
```
src/
├── components/
│   ├── TimerCircle.vue          # 计时器圆形组件
│   ├── ModeSelector.vue         # 模式选择组件
│   ├── SettingsPanel.vue        # 设置面板组件
│   ├── StatisticsCards.vue      # 统计数据组件
│   ├── TaskList.vue             # 任务列表组件
│   └── Header.vue               # 头部导航组件
├── stores/
│   └── timerStore.js            # Pinia 状态管理
├── utils/
│   └── timerUtils.js            # 计时器工具函数
└── views/
    └── Home.vue                 # 主页面
```

### 实现步骤

#### 第一阶段：基础组件开发
1. **TimerCircle.vue** - 实现计时器显示和基础控制
2. **ModeSelector.vue** - 实现模式选择功能
3. **Header.vue** - 实现顶部导航

#### 第二阶段：功能组件开发
1. **SettingsPanel.vue** - 实现设置面板和时间配置
2. **StatisticsCards.vue** - 实现统计数据展示
3. **TaskList.vue** - 实现任务管理功能

#### 第三阶段：状态管理
1. **timerStore.js** - 使用 Pinia 管理应用状态
2. **timerUtils.js** - 封装计时器逻辑

#### 第四阶段：集成与优化
1. **Home.vue** - 整合所有组件
2. 样式优化和响应式调整
3. 功能测试和调试

## 样式转换要点

### CSS 到 Vue 3 + Tailwind
1. **内联样式** → 组件 scoped CSS
2. **全局样式** → 全局 CSS 文件
3. **JavaScript 交互** → Vue 3 Composition API
4. **DOM 操作** → Vue 响应式数据

### 关键样式保留
- 圆形计时器的渐变和阴影效果
- 进度环的 mask 技术实现
- 毛玻璃效果的背景样式
- 按钮的悬停和点击动画

## 数据结构设计

### 计时器状态
```javascript
{
  currentTime: number,        // 当前剩余时间（秒）
  isRunning: boolean,        // 是否运行中
  mode: 'pomodoro' | 'shortBreak' | 'longBreak',  // 当前模式
  settings: {                // 设置项
    pomodoroTime: number,    // 番茄时间（分钟）
    shortBreakTime: number,  // 短休息时间（分钟）
    longBreakTime: number    // 长休息时间（分钟）
  }
}
```

### 任务数据结构
```javascript
{
  id: string,               // 任务 ID
  name: string,             // 任务名称
  completed: boolean,       // 是否完成
  tomatoCount: number,      // 番茄数量
  createdAt: Date,          // 创建时间
  completedAt?: Date        // 完成时间
}
```

### 统计数据结构
```javascript
{
  todayTomato: number,      // 今日完成番茄数
  incompleteTasks: number,   // 未完成任务数
  weeklyProgress: {         // 本周进度
    completed: number,       // 已完成
    total: number           // 总目标
  }
}
```

## 实现注意事项

### 性能优化
- 使用 Vue 3 的响应式系统优化状态管理
- 避免不必要的 DOM 操作
- 使用 computed 属性优化计算性能

### 用户体验
- 保持原有的视觉设计和动画效果
- 确保响应式设计在移动端的兼容性
- 添加适当的错误处理和用户反馈

### 功能扩展
- 考虑添加数据持久化（localStorage）
- 实现通知提醒功能
- 添加声音提醒选项